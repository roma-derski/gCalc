{"ast":null,"code":"var _jsxFileName = \"/home/fa1keh/Documents/Prjs/TestTask/Redspher/web/src/components/Calculator.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst buttons = [{\n  value: 1,\n  type: \"number\"\n}, {\n  value: 2,\n  type: \"number\"\n}, {\n  value: 3,\n  type: \"number\"\n}, {\n  value: \"+\",\n  type: \"operator\"\n}, {\n  value: 4,\n  type: \"number\"\n}, {\n  value: 5,\n  type: \"number\"\n}, {\n  value: 6,\n  type: \"number\"\n}, {\n  value: \"-\",\n  type: \"operator\"\n}, {\n  value: 7,\n  type: \"number\"\n}, {\n  value: 8,\n  type: \"number\"\n}, {\n  value: 9,\n  type: \"number\"\n}, {\n  value: \"*\",\n  type: \"operator\"\n}, {\n  value: \".\",\n  type: \"operator\"\n}, {\n  value: 0,\n  type: \"number\"\n}, {\n  value: \"=\",\n  type: \"equal\"\n}, {\n  value: \"/\",\n  type: \"operator\"\n}, {\n  value: \"Clear\",\n  type: \"clear\"\n}];\nfunction Calculator() {\n  _s();\n  const [expression, setExpression] = useState(\"\");\n  const handleClick = event => {\n    const target = event.target;\n    setExpression(expression + target.value);\n  };\n  const handleEqual = () => {\n    // try {\n    //     setExpression(eval(expression).toString());\n    // } catch (e) {\n    //     setExpression(\"error\");\n    // }\n    fetch('http://localhost:8000/calculate').then(response => response.json()).then(data => console.log(data));\n  };\n  const handleClear = () => {\n    setExpression(\"\");\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const handleKeyDown = event => {\n    const key = event.key;\n    switch (key) {\n      case \"0\":\n      case \"1\":\n      case \"2\":\n      case \"3\":\n      case \"4\":\n      case \"5\":\n      case \"6\":\n      case \"7\":\n      case \"8\":\n      case \"9\":\n        setExpression(expression + key);\n        break;\n      case \"+\":\n      case \"-\":\n      case \"*\":\n      case \"/\":\n        setExpression(expression + key);\n        break;\n      case \"Enter\":\n      case \"=\":\n        handleEqual();\n        break;\n      case \"Escape\":\n      case \"Backspace\":\n        handleClear();\n        break;\n      default:\n        break;\n    }\n  };\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [expression]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: expression,\n      \"data-testid\": \"result\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-container\",\n      children: buttons.map((button, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        value: button.value,\n        \"data-testid\": button.value,\n        onClick: button.type === \"equal\" ? handleEqual : button.type === \"clear\" ? handleClear : handleClick,\n        children: button.value\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n_s(Calculator, \"NyJQCXN9y/npU02CkGs+rB/dADY=\");\n_c = Calculator;\nexport default Calculator;\nvar _c;\n$RefreshReg$(_c, \"Calculator\");","map":{"version":3,"names":["React","useEffect","useState","buttons","value","type","Calculator","expression","setExpression","handleClick","event","target","handleEqual","fetch","then","response","json","data","console","log","handleClear","handleKeyDown","key","document","addEventListener","removeEventListener","map","button","index"],"sources":["/home/fa1keh/Documents/Prjs/TestTask/Redspher/web/src/components/Calculator.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\ninterface Button {\n    value: number | string;\n    type: \"number\" | \"operator\" | \"equal\" | \"clear\";\n}\n\nconst buttons: Button[] = [\n    { value: 1, type: \"number\" },\n    { value: 2, type: \"number\" },\n    { value: 3, type: \"number\" },\n    { value: \"+\", type: \"operator\" },\n    { value: 4, type: \"number\" },\n    { value: 5, type: \"number\" },\n    { value: 6, type: \"number\" },\n    { value: \"-\", type: \"operator\" },\n    { value: 7, type: \"number\" },\n    { value: 8, type: \"number\" },\n    { value: 9, type: \"number\" },\n    { value: \"*\", type: \"operator\" },\n    { value: \".\", type: \"operator\" },\n    { value: 0, type: \"number\" },\n    { value: \"=\", type: \"equal\" },\n    { value: \"/\", type: \"operator\" },\n    { value: \"Clear\", type: \"clear\" },\n];\n\nfunction Calculator() {\n    const [expression, setExpression] = useState<string>(\"\");\n\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>): void => {\n        const target = event.target as HTMLTextAreaElement;\n\n        setExpression(expression + target.value);\n    };\n\n    const handleEqual = (): void => {\n\n        // try {\n        //     setExpression(eval(expression).toString());\n        // } catch (e) {\n        //     setExpression(\"error\");\n        // }\n        fetch('http://localhost:8000/calculate')\n            .then(response => response.json())\n            .then(data => console.log(data));\n\n    };\n\n    const handleClear = (): void => {\n        setExpression(\"\");\n    };\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const handleKeyDown = (event: { key: string }): void => {\n        const key = event.key;\n        switch (key) {\n            case \"0\":\n            case \"1\":\n            case \"2\":\n            case \"3\":\n            case \"4\":\n            case \"5\":\n            case \"6\":\n            case \"7\":\n            case \"8\":\n            case \"9\":\n                setExpression(expression + key);\n                break;\n            case \"+\":\n            case \"-\":\n            case \"*\":\n            case \"/\":\n                setExpression(expression + key);\n                break;\n            case \"Enter\":\n            case \"=\":\n                handleEqual();\n                break;\n            case \"Escape\":\n            case \"Backspace\":\n                handleClear();\n                break;\n            default:\n                break;\n        }\n    };\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", handleKeyDown);\n        return () => {\n            document.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [expression]);\n\n    return (\n        <div className=\"App\">\n\n            <input type=\"text\" value={expression} data-testid=\"result\" />\n\n            <div className=\"button-container\">\n                {buttons.map((button, index) => (\n                    <button\n                        key={index}\n                        value={button.value}\n                        data-testid={button.value}\n                        onClick={\n                            button.type === \"equal\"\n                                ? handleEqual\n                                : button.type === \"clear\"\n                                    ? handleClear\n                                    : handleClick\n                        }\n                    >\n                        {button.value}\n                    </button>\n                )\n                )}\n            </div>\n\n        </div>\n    );\n}\n\nexport default Calculator;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}